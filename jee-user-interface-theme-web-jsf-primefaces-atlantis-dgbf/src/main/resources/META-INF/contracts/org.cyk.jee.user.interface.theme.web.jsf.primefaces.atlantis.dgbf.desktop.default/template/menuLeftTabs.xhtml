<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui"
	xmlns:pa="http://primefaces.org/atlantis">
	
	<!-- 
		.menu-pin-button {
			display: none;
		}
	 -->
	
	<style>		
		.layout-submenu-title {
			padding-left: 4px !important;
		}
			
		.layout-submenu-title span {
			width: calc(100% - 23px);
			overflow: hidden;
			display: inline-block;
			white-space: nowrap;
			text-overflow: ellipsis;
		}
	</style>
	
	<c:set var="tabMenu" value="#{themeController.getManager().getLeftTabMenu(__page__)}"/>
	<c:if test="#{tabMenu == null}">
		<pa:tabMenu>
			<c:forEach items="#{themeController.getManager().getLeftMenuTabs(__page__)}" var="tab">
				<pa:tab icon="#{tab.properties.icon}" title="#{tab.properties.name}">
					<h:form id="menu-form">
						<pa:menu model="#{tab.properties.menu.targetModelValue}" widgetVar="menu" />
					</h:form>
				</pa:tab>
			</c:forEach>
		</pa:tabMenu>
	</c:if>
	<c:if test="#{tabMenu != null}">
		<pa:tabMenu activeIndex="#{tabMenu.activeIndex}" id="#{tabMenu.identifier}" rendered="#{tabMenu.rendered}" widgetVar="#{tabMenu.widgetVar}">
			<c:forEach items="#{tabMenu.tabs}" var="tab">
				<pa:tab id="#{tab.identifier}" icon="#{tab.icon}" rendered="#{tab.rendered}" title="#{tab.title}">
					<h:form id="menu-form">
						<pa:menu 							
							model="#{tab.menu.model}" 
							rendered="#{tab.menu.rendered}" 
							styleClass="#{tab.menu.styleClass}" 
							widgetVar="#{tab.menu.widgetVar}" 
							style="#{tab.menu.style}" 
						/>
					</h:form>
				</pa:tab>
			</c:forEach>
		</pa:tabMenu>
	</c:if>
</ui:composition>