<ui:composition 
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:c="http://java.sun.com/jsp/jstl/core"  
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pa="http://primefaces.org/atlantis"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:cyk="http://primefaces.jsf.web.utility.cyk.org">
     
    <div class="topbar" >
        <div class="logo">
        	<ui:insert name="topBarLogo">
        		<cyk:image value="#{__page__.window.theme.logo}" />
        	</ui:insert>
        </div>
        
        <p:outputLabel styleClass="app-name-style"> 
            <p:link value="#{themeController.getManager().getSystemName(__page__)}" style="font-size:2rem; color: #ffffff !important; font-weight: normal" href="/"/>
            <p:spacer width="2" />
            <i class="pi pi-caret-right" style="font-size: 20px; margin-top: -1px"/>
            <p:spacer width="6" />
            <p:link value="#{themeController.getManager().getApplicationName(__page__)}" outcome="#{themeController.getManager().getApplicationOutcome(__page__)}" 
            	style="font-size:2rem;color: #ffffff !important; font-weight: normal !important"/>            
        </p:outputLabel>
       	
        <a id="topbar-menu-button" href="#">
            <i class="fa fa-bars"/>
        </a>
        
        <ui:fragment rendered="#{themeController.getManager().getIsShowUser(__page__)}">
        	<ul class="topbar-menu fadeInDown animated">
	             <li class="profile-item">
			        <a href="#">                            
			            <div class="profile-image">
			                <p:avatar styleClass="p-mr-2" shape="circle" label="#{themeController.getManager().getPropertyValue(__page__,'SESSION_USER_NAMES')}" />
			            </div>
			            <div class="profile-info">
			                <span class="topbar-item-name profile-name">#{themeController.getManager().getPropertyValue(__page__,"SESSION_USER_NAMES")}</span>
			                <!--
			                <span class="topbar-item-name profile-role">#{themeController.getManager().getUserFunction(__page__)}</span>
			                -->
			            </div>
			        </a>
			        
			        <ul class="animated">
			            <h:form>
			                <div class="profile-menu-image">
			                    <p:graphicImage name="images/profile-image.png" library="atlantis-layout" />
			                </div>
			                <p:spacer height="10" width="0"/>
			                <div class="text-centered" style="margin: 0px 4px">
			                    <b style="font-size: 1.3em; margin-bottom: 10px;">#{themeController.getManager().getPropertyValue(__page__,"SESSION_USER_NAME")}</b>
			                    <!--
			                    <br/>
			                    <b>#{themeController.getManager().getPropertyValue(__page__,"SESSION_USER_ELECTRONIC_MAIL_ADDRESS")}</b>
			                    -->
			                    <br/>
			                    <span>#{themeController.getManager().getPropertyValue(__page__,"SESSION_USER_SECTION")}</span>	
			                    <br/>
			                    <span>#{themeController.getManager().getPropertyValue(__page__,"SESSION_USER_ADMINISTRATIVE_UNIT")}</span>			                    
			                    <br/>
			                    <span style="font-size: 10px">#{themeController.getManager().getPropertyValue(__page__,"SESSION_USER_ADMINISTRATIVE_FUNCTION")}</span>
			                </div>
			                <p:spacer height="10" width="0"/>
			                <div class="text-centered" style="margin: 0px 4px">
			                    <p:button value="GÃ©rer votre compte SIGOBE" styleClass="moncompte-btn" target="_blank" 
			                    	href="#{themeController.getManager().getPropertyValue(__page__,'MANAGE_MY_ACCOUNT_URL')}"/>
			                </div>
			                
			                <p:spacer height="10" width="0"/>
			                <pa:menu id="account-menu" widgetVar="user-menu" style="list-style: none !important; padding-left: 0px;" model="#{themeController.getManager().getTopMenuModel(__page__)}"/>
			                
			            </h:form>
			        </ul>			        
			    </li>
	            <!--
	            <li class="profile-item">
	            	<a href="#">                            
			            <div class="profile-image">
			                <p:graphicImage name="profile-image.png" library="image" />
			            </div>
			            <div class="profile-info">
			                <span class="topbar-item-name profile-name">#{themeController.getManager().getUserNames(__page__)}</span>
			            </div>
			        </a>
			        
			        <ul class="animated">
			            <h:form>
			                <pa:menu id="account-menu" widgetVar="user-menu" style="list-style: none; padding-left: 0px;" model="#{themeController.getManager().getTopMenuModel(__page__)}"/>
			            </h:form>
			        </ul>
	            </li>
	            -->
	        </ul>
        </ui:fragment>  
    </div>
</ui:composition>